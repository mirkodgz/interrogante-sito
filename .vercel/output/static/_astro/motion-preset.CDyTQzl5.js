import{j as I}from"./jsx-runtime.D_zvdyIk.js";import{r as v}from"./index.5VBTLnzS.js";import{r as R,m as b}from"./proxy.kc_TDvkl.js";import{A as y}from"./index.CgipquYl.js";const C={some:0,all:1};function O(o,c,{root:f,margin:l,amount:t="some"}={}){const p=R(o),s=new WeakMap,u=n=>{n.forEach(e=>{const i=s.get(e.target);if(e.isIntersecting!==!!i)if(e.isIntersecting){const r=c(e.target,e);typeof r=="function"?s.set(e.target,r):a.unobserve(e.target)}else typeof i=="function"&&(i(e),s.delete(e.target))})},a=new IntersectionObserver(u,{root:f,rootMargin:l,threshold:typeof t=="number"?t:C[t]});return p.forEach(n=>a.observe(n)),()=>a.disconnect()}function A(o,{root:c,margin:f,amount:l,once:t=!1,initial:p=!1}={}){const[s,u]=v.useState(p);return v.useEffect(()=>{if(!o.current||t&&s)return;const a=()=>(u(!0),t?void 0:()=>u(!1)),n={root:c&&c.current||void 0,margin:f,amount:l};return O(o.current,a,n)},[c,o,f,t,l]),s}const P=b;function W({ref:o,children:c,className:f,component:l="div",transition:t={type:"spring",stiffness:200,damping:20},delay:p=0,inView:s=!0,inViewMargin:u="0px",inViewOnce:a=!0,blur:n=!1,slide:e=!1,fade:i=!1,zoom:r=!1,motionProps:E={}}){const g=v.useRef(null);v.useImperativeHandle(o,()=>g.current);const V=A(g,{once:a,margin:u}),j=!s||V,d={},m={};if(n&&(d.filter=n===!0?"blur(10px)":`blur(${n})`,m.filter="blur(0px)"),e){const x=e===!0?100:e.offset??100,h=e===!0?"left":e.direction??"left",w=h==="up"||h==="down"?"y":"x";d[w]=h==="left"||h==="up"?-x:x,m[w]=0}i&&(d.opacity=i===!0?0:i.initialOpacity??0,m.opacity=i===!0?1:i.opacity??1),r&&(d.scale=r===!0?.5:r.initialScale??.5,m.scale=r===!0?1:r.scale??1);const M=P[l]||b.div;return I.jsx(y,{children:I.jsx(M,{ref:g,initial:"hidden",animate:j?"visible":"hidden",exit:"hidden",variants:{hidden:d,visible:m},transition:{...t,delay:(t?.delay??0)+p},className:f,...E,children:c})})}export{W as M};
