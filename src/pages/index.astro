---
import Layout from "../layouts/Layout.astro";
import Hero from "../components/blocks/Hero";
import TextStrips from "../components/blocks/TextStrips";
import AboutSection from "../components/blocks/AboutSection";
import PortfolioSection from "../components/blocks/PortfolioSection";
import FestivalCTA from "../components/blocks/FestivalCTA";
import NewsSection from "../components/blocks/NewsSection";
import BlogSection from "../components/blocks/BlogSection";
import { getCollection } from "astro:content";
import WelcomeLoader from "../components/ui/WelcomeLoader";
import type { PortfolioItem } from "../components/blocks/PortfolioSection";

const blogItems = await getCollection("blog");

const portfolioItems: PortfolioItem[] = [
	{
		id: "1",
		title: "Talleres culturales",
		description: "Colaboracion con :",
		image: "https://res.cloudinary.com/dskliu1ig/image/upload/v1768143765/LavoratoriCreativiv2_p8nkt8.webp",
		href: "https://www.eventbrite.it/e/biglietti-laboratori-culturali-arte-cinema-comunicazione-musica-e-teatro-922855745377",
		target: "_blank",
		collaboratorLogo:
			"https://res.cloudinary.com/dskliu1ig/image/upload/v1768143720/256px-Logotipo_del_Instituto_Cervantes.svg_wea4va.png",
	},
	{
		id: "2",
		title: "Taller de microteatro",
		description: "Colaboracion con :",
		image: "https://res.cloudinary.com/dskliu1ig/image/upload/v1768144875/Imagen-TallerdeMicroteatro_md5tl8.jpg",
		href: "https://milan.cervantes.es/it/cultura_spagnolo/laboratorio_teatro.htm",
		target: "_blank",
		collaboratorLogo:
			"https://res.cloudinary.com/dskliu1ig/image/upload/v1768143720/256px-Logotipo_del_Instituto_Cervantes.svg_wea4va.png",
	},
	{
		id: "3",
		title: "Formación para profesores",
		description: "Colaboracion con :",
		image: "https://res.cloudinary.com/dskliu1ig/image/upload/v1768145257/Foto-v1s22134_r4yrrn.jpg",
		href: "/formacion-para-profesores-de-espanol",
		target: "_self",
		collaboratorLogo:
			"https://res.cloudinary.com/dskliu1ig/image/upload/v1768143720/256px-Logotipo_del_Instituto_Cervantes.svg_wea4va.png",
	},
	{
		id: "4",
		title: "Jugando en español",
		description: "Interrogante Spettacolo",
		image: "https://res.cloudinary.com/dskliu1ig/image/upload/v1768145671/JugandoEnEspanol-DEF_sbobsb.jpg",
		href: "/talleres-para-ninos",
		target: "_self",
		collaboratorLogo:
			"https://res.cloudinary.com/dskliu1ig/image/upload/v1768145671/JugandoEnEspanol-DEF_sbobsb.jpg",
	},
	{
		id: "5",
		title: "Crea tu taller",
		description: "Colaboracion con :",
		image: "https://res.cloudinary.com/dskliu1ig/image/upload/v1768146634/CreatuTallerCover_v9fy5l.jpg",
		href: "/crea-tu-taller",
		target: "_self",
		collaboratorLogo:
			"https://res.cloudinary.com/dskliu1ig/image/upload/v1768143720/256px-Logotipo_del_Instituto_Cervantes.svg_wea4va.png",
	},
];
---

<Layout
	title="Gestión y Promoción de Espectáculos en Milán"
	description="Interrogante Spettacolo: Referente en cultura española y latinoamericana en Milán. Descubre el Festival A PIEDI NUDI, nuestras creaciones teatrales y formación artística."
>
	<WelcomeLoader client:load />
	<main>
		{/* SECCIÓN 1: HERO - VIDEO FONDO 90VH */}
		<Hero client:load />

		{/* SECCIÓN 2: CINTAS DE TEXTO ANIMADAS (Scroll Infinito) */}
		<TextStrips client:load />

		{/* SECCIÓN 3: CURSOS Y TALLERES (Portfolio) */}
		<PortfolioSection client:load portfolioItems={portfolioItems} />

		{/* SECCIÓN 4: CHI SIAMO / SOBRE NOSOTROS (Interrogante Spettacolo) */}
		<AboutSection client:load />

		{/* SECCIÓN 5: C.T.A. FESTIVAL */}
		<FestivalCTA client:load />

		{/* SECCIÓN 6: NEWS (Manual) */}
		<NewsSection client:load />

		{/* SECCIÓN 7: BLOG EN ESPAÑOL (Dinámico) */}
		<BlogSection client:load blogItems={blogItems} />
	</main>
</Layout>
